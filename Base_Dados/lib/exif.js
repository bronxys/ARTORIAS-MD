const _0x5453a9=_0x2861;(function(_0x1224d2,_0x310ff9){const _0x2a78a5=_0x2861,_0x24bbcd=_0x1224d2();while(!![]){try{const _0x2b9a04=parseInt(_0x2a78a5(0x1d7))/0x1+-parseInt(_0x2a78a5(0x1bc))/0x2*(-parseInt(_0x2a78a5(0x1e4))/0x3)+-parseInt(_0x2a78a5(0x1be))/0x4+-parseInt(_0x2a78a5(0x1d1))/0x5+parseInt(_0x2a78a5(0x1f2))/0x6+parseInt(_0x2a78a5(0x1d4))/0x7*(parseInt(_0x2a78a5(0x1ef))/0x8)+-parseInt(_0x2a78a5(0x1bb))/0x9;if(_0x2b9a04===_0x310ff9)break;else _0x24bbcd['push'](_0x24bbcd['shift']());}catch(_0x1f7375){_0x24bbcd['push'](_0x24bbcd['shift']());}}}(_0x1b22,0xb2185));const fs=require('fs'),{tmpdir}=require('os'),Crypto=require(_0x5453a9(0x1e8)),ff=require(_0x5453a9(0x1f0)),webp=require(_0x5453a9(0x1ed)),path=require(_0x5453a9(0x1e2));async function imageToWebp(_0x321f26){const _0x2d3adc=_0x5453a9,_0x4a3541=path[_0x2d3adc(0x1d6)](tmpdir(),Crypto[_0x2d3adc(0x1e5)](0x6)[_0x2d3adc(0x1c1)](0x0,0x6)['toString'](0x24)+_0x2d3adc(0x1ca)),_0x4e35df=path['join'](tmpdir(),Crypto[_0x2d3adc(0x1e5)](0x6)[_0x2d3adc(0x1c1)](0x0,0x6)['toString'](0x24)+'.jpg');fs[_0x2d3adc(0x1c8)](_0x4e35df,_0x321f26),await new Promise((_0x2aa130,_0x1b214b)=>{const _0xf1238c=_0x2d3adc;ff(_0x4e35df)['on'](_0xf1238c(0x1df),_0x1b214b)['on'](_0xf1238c(0x1ce),()=>_0x2aa130(!![]))[_0xf1238c(0x1e9)]([_0xf1238c(0x1e0),_0xf1238c(0x1f1),_0xf1238c(0x1cf),_0xf1238c(0x1c6)])[_0xf1238c(0x1ea)]('webp')['save'](_0x4a3541);});const _0x58ee07=fs[_0x2d3adc(0x1c4)](_0x4a3541);return fs[_0x2d3adc(0x1da)](_0x4a3541),fs['unlinkSync'](_0x4e35df),_0x58ee07;}async function videoToWebp(_0x280464){const _0x5e9cf5=_0x5453a9,_0x28af97=path[_0x5e9cf5(0x1d6)](tmpdir(),Crypto['randomBytes'](0x6)['readUIntLE'](0x0,0x6)['toString'](0x24)+'.webp'),_0x4be25a=path['join'](tmpdir(),Crypto['randomBytes'](0x6)['readUIntLE'](0x0,0x6)['toString'](0x24)+_0x5e9cf5(0x1eb));fs[_0x5e9cf5(0x1c8)](_0x4be25a,_0x280464),await new Promise((_0x3ffc9e,_0x29a32f)=>{const _0x5e8db3=_0x5e9cf5;ff(_0x4be25a)['on']('error',_0x29a32f)['on'](_0x5e8db3(0x1ce),()=>_0x3ffc9e(!![]))[_0x5e8db3(0x1e9)](['-vcodec',_0x5e8db3(0x1f1),'-vf','scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse',_0x5e8db3(0x1ee),'0',_0x5e8db3(0x1bd),_0x5e8db3(0x1d5),'-t',_0x5e8db3(0x1d9),_0x5e8db3(0x1cc),_0x5e8db3(0x1d3),_0x5e8db3(0x1c5),_0x5e8db3(0x1dc),'0'])['toFormat']('webp')[_0x5e8db3(0x1c2)](_0x28af97);});const _0x3f4c51=fs[_0x5e9cf5(0x1c4)](_0x28af97);return fs[_0x5e9cf5(0x1da)](_0x28af97),fs['unlinkSync'](_0x4be25a),_0x3f4c51;}async function writeExifImg(_0x4d0b5b,_0x4ead45){const _0x4de444=_0x5453a9;let _0x3e9e65=await imageToWebp(_0x4d0b5b);const _0x250011=path['join'](tmpdir(),Crypto[_0x4de444(0x1e5)](0x6)['readUIntLE'](0x0,0x6)[_0x4de444(0x1ec)](0x24)+_0x4de444(0x1ca)),_0x3afa99=path[_0x4de444(0x1d6)](tmpdir(),Crypto[_0x4de444(0x1e5)](0x6)[_0x4de444(0x1c1)](0x0,0x6)[_0x4de444(0x1ec)](0x24)+_0x4de444(0x1ca));fs['writeFileSync'](_0x250011,_0x3e9e65);if(_0x4ead45['packname']||_0x4ead45['author']){const _0x360310=new webp[(_0x4de444(0x1c9))](),_0x514e8a={'sticker-pack-id':_0x4de444(0x1cb),'sticker-pack-name':_0x4ead45[_0x4de444(0x1bf)],'sticker-pack-publisher':_0x4ead45[_0x4de444(0x1de)],'emojis':_0x4ead45['categories']?_0x4ead45['categories']:['']},_0x320b9d=Buffer[_0x4de444(0x1db)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x32e738=Buffer[_0x4de444(0x1db)](JSON[_0x4de444(0x1dd)](_0x514e8a),_0x4de444(0x1c7)),_0x182803=Buffer[_0x4de444(0x1d2)]([_0x320b9d,_0x32e738]);return _0x182803[_0x4de444(0x1e6)](_0x32e738['length'],0xe,0x4),await _0x360310['load'](_0x250011),fs[_0x4de444(0x1da)](_0x250011),_0x360310['exif']=_0x182803,await _0x360310[_0x4de444(0x1c2)](_0x3afa99),_0x3afa99;}}function _0x1b22(){const _0x2b0b5a=['scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse','utf-8','writeFileSync','Image','.webp','https://github.com/DikaArdnt/Hisoka-Morou','-preset','length','end','-vf','load','5630840GPXrYe','concat','default','196AheAwT','00:00:00','join','1335822mmkSNR','mimetype','00:00:05','unlinkSync','from','-vsync','stringify','author','error','-vcodec','categories','path','exports','318996ARKGYn','randomBytes','writeUIntLE','exif','crypto','addOutputOptions','toFormat','.mp4','toString','node-webpmux','-loop','268432IiGOlh','fluent-ffmpeg','libwebp','770418PXfoMI','7476543FKrAQt','18LmDiXC','-ss','2697412fhbCni','packname','data','readUIntLE','save','test','readFileSync','-an'];_0x1b22=function(){return _0x2b0b5a;};return _0x1b22();}async function writeExifVid(_0xf5c8c1,_0x562436){const _0x20a044=_0x5453a9;let _0x5ce24d=await videoToWebp(_0xf5c8c1);const _0xe12465=path[_0x20a044(0x1d6)](tmpdir(),Crypto[_0x20a044(0x1e5)](0x6)['readUIntLE'](0x0,0x6)[_0x20a044(0x1ec)](0x24)+_0x20a044(0x1ca)),_0x5000cf=path[_0x20a044(0x1d6)](tmpdir(),Crypto[_0x20a044(0x1e5)](0x6)[_0x20a044(0x1c1)](0x0,0x6)[_0x20a044(0x1ec)](0x24)+_0x20a044(0x1ca));fs['writeFileSync'](_0xe12465,_0x5ce24d);if(_0x562436[_0x20a044(0x1bf)]||_0x562436[_0x20a044(0x1de)]){const _0x430f2b=new webp[(_0x20a044(0x1c9))](),_0x5cf0fb={'sticker-pack-id':'https://github.com/DikaArdnt/Hisoka-Morou','sticker-pack-name':_0x562436[_0x20a044(0x1bf)],'sticker-pack-publisher':_0x562436[_0x20a044(0x1de)],'emojis':_0x562436[_0x20a044(0x1e1)]?_0x562436[_0x20a044(0x1e1)]:['']},_0x3ee7b2=Buffer[_0x20a044(0x1db)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x268cd4=Buffer[_0x20a044(0x1db)](JSON[_0x20a044(0x1dd)](_0x5cf0fb),'utf-8'),_0x51037d=Buffer[_0x20a044(0x1d2)]([_0x3ee7b2,_0x268cd4]);return _0x51037d[_0x20a044(0x1e6)](_0x268cd4[_0x20a044(0x1cd)],0xe,0x4),await _0x430f2b[_0x20a044(0x1d0)](_0xe12465),fs[_0x20a044(0x1da)](_0xe12465),_0x430f2b[_0x20a044(0x1e7)]=_0x51037d,await _0x430f2b[_0x20a044(0x1c2)](_0x5000cf),_0x5000cf;}}async function writeExif(_0x3c0c35,_0x30b45f){const _0x1d735b=_0x5453a9;let _0x209de7=/webp/[_0x1d735b(0x1c3)](_0x3c0c35[_0x1d735b(0x1d8)])?_0x3c0c35[_0x1d735b(0x1c0)]:/image/[_0x1d735b(0x1c3)](_0x3c0c35[_0x1d735b(0x1d8)])?await imageToWebp(_0x3c0c35[_0x1d735b(0x1c0)]):/video/['test'](_0x3c0c35[_0x1d735b(0x1d8)])?await videoToWebp(_0x3c0c35[_0x1d735b(0x1c0)]):'';const _0x580521=path[_0x1d735b(0x1d6)](tmpdir(),Crypto[_0x1d735b(0x1e5)](0x6)[_0x1d735b(0x1c1)](0x0,0x6)[_0x1d735b(0x1ec)](0x24)+_0x1d735b(0x1ca)),_0x94d021=path[_0x1d735b(0x1d6)](tmpdir(),Crypto['randomBytes'](0x6)['readUIntLE'](0x0,0x6)[_0x1d735b(0x1ec)](0x24)+_0x1d735b(0x1ca));fs[_0x1d735b(0x1c8)](_0x580521,_0x209de7);if(_0x30b45f['packname']||_0x30b45f[_0x1d735b(0x1de)]){const _0x368cde=new webp[(_0x1d735b(0x1c9))](),_0x28b4fe={'sticker-pack-id':'https://github.com/DikaArdnt/Hisoka-Morou','sticker-pack-name':_0x30b45f['packname'],'sticker-pack-publisher':_0x30b45f[_0x1d735b(0x1de)],'emojis':_0x30b45f[_0x1d735b(0x1e1)]?_0x30b45f[_0x1d735b(0x1e1)]:['']},_0x58c330=Buffer[_0x1d735b(0x1db)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x5ef816=Buffer['from'](JSON['stringify'](_0x28b4fe),_0x1d735b(0x1c7)),_0x2df934=Buffer['concat']([_0x58c330,_0x5ef816]);return _0x2df934['writeUIntLE'](_0x5ef816[_0x1d735b(0x1cd)],0xe,0x4),await _0x368cde[_0x1d735b(0x1d0)](_0x580521),fs[_0x1d735b(0x1da)](_0x580521),_0x368cde[_0x1d735b(0x1e7)]=_0x2df934,await _0x368cde[_0x1d735b(0x1c2)](_0x94d021),_0x94d021;}}function _0x2861(_0x5ad744,_0x2a0ac4){const _0x1b228b=_0x1b22();return _0x2861=function(_0x286105,_0x4ef02a){_0x286105=_0x286105-0x1bb;let _0x5a2456=_0x1b228b[_0x286105];return _0x5a2456;},_0x2861(_0x5ad744,_0x2a0ac4);}module[_0x5453a9(0x1e3)]={'imageToWebp':imageToWebp,'videoToWebp':videoToWebp,'writeExifImg':writeExifImg,'writeExifVid':writeExifVid,'writeExif':writeExif};